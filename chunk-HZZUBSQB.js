import{a as Y}from"./chunk-YTWTWWLN.js";import{m as k,q as P}from"./chunk-H4LMR65P.js";import{Aa as f,Ga as h,Gb as y,Hb as C,Ja as d,Oa as c,Va as m,Vb as I,da as r,ea as n,kb as b,lb as l,mb as a,pb as w,rb as s,wb as g,xb as v,yb as _}from"./chunk-I2TCTK3J.js";var x=["placeholder"],T=class p{constructor(t,e,i){this.platformId=t;this.httpClient=e;this.cdr=i;this.isBrowser=P(this.platformId)}videoId="";placeholder;API_KEY="AIzaSyAgB_ANPJ3PENDu2MGFWRycAkoFfnT1Q3U";YOUTUBE_API_URL=`https://www.googleapis.com/youtube/v3/videos?part=snippet&key=${this.API_KEY}&`;imageSizesToYoutubeSuffixArray=[{width:120,suffix:"default"},{width:320,suffix:"mqdefault"},{width:480,suffix:"hqdefault"},{width:640,suffix:"sddefault"},{width:1280,suffix:"maxresdefault"}];afterViewHasRan=!1;isBrowser=!1;title="";ngAfterContentInit(){this.afterViewHasRan=!0,this.isBrowser&&this.httpClient.get(`${this.YOUTUBE_API_URL}&id=${this.videoId}`,{responseType:"json"}).subscribe(t=>{let e=t;this.title=e.items[0]?.snippet.localized.title,this.cdr.detectChanges()})}getThumbnailSize(){if(!this.afterViewHasRan)return"hqdefault";for(let t of this.imageSizesToYoutubeSuffixArray)if(!(this.placeholder.nativeElement.offsetWidth>t.width))return t.suffix;return"hqdefault"}onYoutubeClick(){let t=this.placeholder.nativeElement;if(t==null)return;let e=document.createElement("iframe");e.setAttribute("src","https://www.youtube-nocookie.com/embed/"+this.videoId+"?autoplay=1"),e.setAttribute("frameborder","0"),e.setAttribute("allow","autoplay; accelerometer; clipboard-write; encrypted-media; picture-in-picture; web-share"),e.setAttribute("allowfullscreen","1"),e.style.width="100%",e.style.aspectRatio="16 / 9",t.replaceWith(e)}static \u0275fac=function(e){return new(e||p)(c(f),c(Y),c(I))};static \u0275cmp=m({type:p,selectors:[["youtube-placeholder"]],viewQuery:function(e,i){if(e&1&&g(x,7),e&2){let o;v(o=_())&&(i.placeholder=o.first)}},inputs:{videoId:"videoId"},decls:7,vars:2,consts:[["placeholder",""],["id","placeholder"],["alt","YouTube Video","loading","lazy",3,"click","src"],[1,"play-button",3,"click"],[1,"title-shadow-background",3,"click"],[3,"click"]],template:function(e,i){if(e&1){let o=w();l(0,"div",1,0)(2,"img",2),s("click",function(){return r(o),n(i.onYoutubeClick())}),a(),l(3,"div",3),s("click",function(){return r(o),n(i.onYoutubeClick())}),a(),l(4,"div",4),s("click",function(){return r(o),n(i.onYoutubeClick())}),a(),l(5,"p",5),s("click",function(){return r(o),n(i.onYoutubeClick())}),y(6),a()()}e&2&&(d(2),b("src","https://i.ytimg.com/vi/"+i.videoId+"/"+i.getThumbnailSize()+".jpg",h),d(4),C(i.title))},dependencies:[k],styles:[`[_nghost-%COMP%]{cursor:pointer;display:block;position:relative;width:100%}img[_ngcontent-%COMP%]{aspect-ratio:16/9;object-fit:cover;width:100%}.play-button[_ngcontent-%COMP%]{background:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='68' height='48' viewBox='0 0 68 48'><path fill='%23f00' d='M66.52 7.18C66.52 3.21 63.31 0 59.34 0H8.66C4.69 0 1.48 3.21 1.48 7.18v33.64C1.48 44.79 4.69 48 8.66 48h50.68c3.97 0 7.18-3.21 7.18-7.18V7.18z'/><path d='M45 24L27 14v20z' fill='%23fff'/></svg>") no-repeat center;position:absolute;height:48px;left:50%;transform:translate(-50%,-50%);top:50%;width:68px}.title-shadow-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:3em;background:linear-gradient(to bottom,#000000b3,#0000);pointer-events:none}p[_ngcontent-%COMP%]{color:#fff;font-weight:700;left:16px;max-width:calc(100% - 36px);overflow:hidden;position:absolute;text-overflow:ellipsis;top:0%;white-space:nowrap;z-index:2}`]})};export{T as a};
