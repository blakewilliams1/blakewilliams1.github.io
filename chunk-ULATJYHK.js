import{c as L}from"./chunk-V3HBTIDQ.js";import"./chunk-HL2OKOBC.js";import{a as m,b as T}from"./chunk-U6DPMWRR.js";import{$a as c,Fb as A,La as o,Xb as d,Za as l,Zb as U,eb as h,fb as p,ga as n,r as a,tb as _,wb as R}from"./chunk-ZKMZVIOQ.js";var C={actionType:"TELEGRAM_ACCOUNT",arModelName:"trex",genericFileName:"test_image.png",paypalRequestAmountUSD:10,redirectUrl:"example.com",trackerType:"HANDS"};function O(s,u){s&1&&(h(0,"p"),_(1,"Specified file for download not found"),p())}var D=(()=>{class s{constructor(t,e){this.router=t,this.httpClient=e,this.showFileNotFoundMessage=!1,this.showEmergencyInfo=!1,this.showArViewer=!1,this.localQrConfig=C,this.CONFIG_FILE_URL="https://api.github.com/repos/blakewilliams1/blakewilliams1.github.io/contents/src/app/qr/qr_config.json",this.VCARD_FILE_URL="https://raw.githubusercontent.com/blakewilliams1/blakewilliams1.github.io/main/src/app/qr/vcard.vcf",this.GENERIC_FILE_BASE_URL="https://raw.githubusercontent.com/blakewilliams1/blakewilliams1.github.io/main/src/app/qr/generic_files/",this.URL_PREFIX="https://",this.FACEBOOK_URL="https://www.facebook.com/blake.williams.731135",this.TELEGRAM_URL="https://t.me/sladewolf",this.WHATSAPP_URL="https://wa.me/17605606898",this.PAYPAL_URL="https://paypal.me/shadowslade/",this.CASH_APP_URL="https://cash.app.regrettispaghetti",this.INSTAGRAM_URL="https://instagram.com/_sladewolf",this.DISCORD_URL="https://discord.com/users/shadowslade6516",this.TWITTER_URL="https://twitter.com/Shadow_slade/",this.BLUESKY_URL="https://bsky.app/profile/sladewolf.bsky.social",this.VENMO_URL="https://venmo.com/code?user_id=1646046040031232265",this.redirectionActions=["TELEGRAM_ACCOUNT","WHATSAPP_ACCOUNT","FACEBOOK_ACCOUNT","TWITTER_ACCOUNT","INSTAGRAM_URL","BLUESKY_ACCOUNT","DISCORD_ACCOUNT","PAYPAL_REQUEST","VENMO_ACCOUNT","CASH_APP_ACCOUNT","ABOUT_TATTOO_PAGE","REDIRECTION_URL"],A()?this.executeConfigSettings(this.localQrConfig):e.get(this.CONFIG_FILE_URL).pipe(a(i=>atob(i.content)),a(i=>JSON.parse(i))).subscribe(i=>{this.executeConfigSettings(i)})}executeConfigSettings(t){this.redirectionActions.includes(t.actionType)?this.handleRedirection(t):t.actionType==="VCF_DOWNLOAD"?this.httpClient.get(this.VCARD_FILE_URL,{responseType:"blob"}).subscribe(e=>{let i=this.VCARD_FILE_URL.substring(this.VCARD_FILE_URL.lastIndexOf("/")+1);this.downloadBlob(e,i)}):t.actionType==="GENERIC_FILE_DOWNLOAD"?t.genericFileName?this.downloadGenericFile(t.genericFileName):this.showFileNotFoundMessage=!0:t.actionType==="EMERGENCY_INFO"&&(this.showEmergencyInfo=!0)}downloadGenericFile(t){this.httpClient.get(this.GENERIC_FILE_BASE_URL+t,{responseType:"blob"}).subscribe(e=>{this.downloadBlob(e,t)},()=>{this.showFileNotFoundMessage=!0})}downloadBlob(t,e){let i=document.createElement("a"),r=URL.createObjectURL(t);i.href=r,i.download=e,i.click(),URL.revokeObjectURL(r)}handleRedirection(t){let e;switch(t.actionType){case"TELEGRAM_ACCOUNT":e=this.TELEGRAM_URL;break;case"WHATSAPP_ACCOUNT":e=this.WHATSAPP_URL;break;case"FACEBOOK_ACCOUNT":e=this.FACEBOOK_URL;break;case"BLUESKY_ACCOUNT":e=this.BLUESKY_URL;break;case"TWITTER_ACCOUNT":e=this.TWITTER_URL;break;case"INSTAGRAM_ACCOUNT":e=this.INSTAGRAM_URL;break;case"DISCORD_ACCOUNT":e=this.DISCORD_URL;break;case"VENMO_ACCOUNT":e=this.VENMO_URL;break;case"CASH_APP_ACCOUNT":e=this.CASH_APP_URL;break;case"PAYPAL_REQUEST":e=`${this.PAYPAL_URL}${t.paypalRequestAmountUSD}`;break;case"ABOUT_TATTOO_PAGE":this.router.navigate(["qr/about"]);break;case"REDIRECTION_URL":e=t.redirectUrl.startsWith(this.URL_PREFIX)?t.redirectUrl:this.URL_PREFIX+t.redirectUrl;break;default:break}e&&window&&(window.location.href=e)}static{this.\u0275fac=function(e){return new(e||s)(o(L),o(m))}}static{this.\u0275cmp=n({type:s,selectors:[["qr-landing-page"]],standalone:!0,features:[R],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(e,i){e&1&&l(0,O,2,0,"p",0),e&2&&c("ngIf",i.showFileNotFoundMessage)},dependencies:[U,d,T],encapsulation:2})}}return s})();export{D as QRLandingPage};
