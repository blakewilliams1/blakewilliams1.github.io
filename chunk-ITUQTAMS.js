import{a as T,b as C,h as u,k as c}from"./chunk-M2A3UNIO.js";import{Gb as A,Ma as n,Y as a,Yb as U,_a as p,_b as L,ab as d,fb as R,ga as h,gb as _,ha as r,r as o,ub as m}from"./chunk-TBCRQ5DZ.js";var E={actionType:"TELEGRAM_ACCOUNT",arModelName:"trex",genericFileName:"test_image.png",paypalRequestAmountUSD:10,redirectUrl:"example.com",trackerType:"HANDS"};function g(i,w){i&1&&(R(0,"p"),m(1,"Specified file for download not found"),_())}var f=(()=>{class i{constructor(t,e){this.router=t,this.httpClient=e,this.showFileNotFoundMessage=!1,this.showEmergencyInfo=!1,this.showArViewer=!1,this.localQrConfig=E,this.CONFIG_FILE_URL="https://api.github.com/repos/blakewilliams1/blakewilliams1.github.io/contents/src/app/qr/qr_config.json",this.VCARD_FILE_URL="https://raw.githubusercontent.com/blakewilliams1/blakewilliams1.github.io/main/src/app/qr/vcard.vcf",this.GENERIC_FILE_BASE_URL="https://raw.githubusercontent.com/blakewilliams1/blakewilliams1.github.io/main/src/app/qr/generic_files/",this.URL_PREFIX="https://",this.FACEBOOK_URL="https://www.facebook.com/blake.williams.731135",this.TELEGRAM_URL="https://t.me/sladewolf",this.WHATSAPP_URL="https://wa.me/17605606898",this.PAYPAL_URL="https://paypal.me/shadowslade/",this.CASH_APP_URL="https://cash.app.regrettispaghetti",this.INSTAGRAM_URL="https://instagram.com/_sladewolf",this.DISCORD_URL="https://discord.com/users/shadowslade6516",this.TWITTER_URL="https://twitter.com/Shadow_slade/",this.BLUESKY_URL="https://bsky.app/profile/sladewolf.bsky.social",this.VENMO_URL="https://venmo.com/code?user_id=1646046040031232265",this.redirectionActions=["TELEGRAM_ACCOUNT","WHATSAPP_ACCOUNT","FACEBOOK_ACCOUNT","TWITTER_ACCOUNT","INSTAGRAM_URL","BLUESKY_ACCOUNT","DISCORD_ACCOUNT","PAYPAL_REQUEST","VENMO_ACCOUNT","CASH_APP_ACCOUNT","ABOUT_TATTOO_PAGE","REDIRECTION_URL"],A()?this.executeConfigSettings(this.localQrConfig):e.get(this.CONFIG_FILE_URL).pipe(o(s=>atob(s.content)),o(s=>JSON.parse(s))).subscribe(s=>{this.executeConfigSettings(s)})}executeConfigSettings(t){this.redirectionActions.includes(t.actionType)?this.handleRedirection(t):t.actionType==="VCF_DOWNLOAD"?this.httpClient.get(this.VCARD_FILE_URL,{responseType:"blob"}).subscribe(e=>{let s=this.VCARD_FILE_URL.substring(this.VCARD_FILE_URL.lastIndexOf("/")+1);this.downloadBlob(e,s)}):t.actionType==="GENERIC_FILE_DOWNLOAD"?t.genericFileName?this.downloadGenericFile(t.genericFileName):this.showFileNotFoundMessage=!0:t.actionType==="EMERGENCY_INFO"&&(this.showEmergencyInfo=!0)}downloadGenericFile(t){this.httpClient.get(this.GENERIC_FILE_BASE_URL+t,{responseType:"blob"}).subscribe(e=>{this.downloadBlob(e,t)},()=>{this.showFileNotFoundMessage=!0})}downloadBlob(t,e){let s=document.createElement("a"),l=URL.createObjectURL(t);s.href=l,s.download=e,s.click(),URL.revokeObjectURL(l)}handleRedirection(t){let e;switch(t.actionType){case"TELEGRAM_ACCOUNT":e=this.TELEGRAM_URL;break;case"WHATSAPP_ACCOUNT":e=this.WHATSAPP_URL;break;case"FACEBOOK_ACCOUNT":e=this.FACEBOOK_URL;break;case"BLUESKY_ACCOUNT":e=this.BLUESKY_URL;break;case"TWITTER_ACCOUNT":e=this.TWITTER_URL;break;case"INSTAGRAM_ACCOUNT":e=this.INSTAGRAM_URL;break;case"DISCORD_ACCOUNT":e=this.DISCORD_URL;break;case"VENMO_ACCOUNT":e=this.VENMO_URL;break;case"CASH_APP_ACCOUNT":e=this.CASH_APP_URL;break;case"PAYPAL_REQUEST":e=`${this.PAYPAL_URL}${t.paypalRequestAmountUSD}`;break;case"ABOUT_TATTOO_PAGE":this.router.navigate(["qr/about"]);break;case"REDIRECTION_URL":e=t.redirectUrl.startsWith(this.URL_PREFIX)?t.redirectUrl:this.URL_PREFIX+t.redirectUrl;break;default:break}e&&(window.location.href=e)}static{this.\u0275fac=function(e){return new(e||i)(n(u),n(T))}}static{this.\u0275cmp=h({type:i,selectors:[["qr-landing-page"]],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(e,s){e&1&&p(0,g,2,0,"p",0),e&2&&d("ngIf",s.showFileNotFoundMessage)},dependencies:[U],encapsulation:2})}}return i})();var b=[{path:"",component:f}],I=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=r({type:i})}static{this.\u0275inj=a({imports:[c.forChild(b),c]})}}return i})(),W=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=r({type:i})}static{this.\u0275inj=a({imports:[I,L,C]})}}return i})();export{W as QRLandingPageModule,I as QRLandingPageRoutingModule};
