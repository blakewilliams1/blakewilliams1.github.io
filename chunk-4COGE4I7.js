import{i as I,j as B,k as b,m as E,q as R,s as V}from"./chunk-JOYVGXEL.js";import{Fb as S,Ha as v,Hb as y,Ia as s,Jb as x,Na as l,Ua as C,Ya as d,da as g,ea as w,jb as c,kb as f,lb as m,ob as h,qb as a,rb as p,ua as u,za as _}from"./chunk-6DXKY6MC.js";var T=n=>({bold:n});function W(n,i){if(n&1){let e=h();f(0,"div")(1,"p",2),a("click",function(){let o=g(e).$implicit,r=p(2);return w(r.onSectionSelect(o))}),S(2),m()()}if(n&2){let e=i.$implicit,t=p(2);s(),c("ngClass",x(2,T,e===t.currentViewedSection)),s(),y(" ",t.getSectionTitle(e)," ")}}function A(n,i){if(n&1&&(f(0,"div"),d(1,W,3,4,"div",1),m()),n&2){let e=p();s(),c("ngForOf",e.sections)}}var O=class n{constructor(i,e,t){this.self=i;this.viewportScroller=e;this.platformId=t;this.isBrowser=R(this.platformId),this.isBrowser&&(this.windowReference=window)}sections=[];windowReference=void 0;currentViewedSection=void 0;minWindowWidthToDisplay=1550;isBrowser;ngAfterContentInit(){if(!this.isBrowser)return;let i=this.self.nativeElement.parentNode.querySelectorAll("[id]");this.sections=Array.from(i),this.sections.sort((e,t)=>e.getBoundingClientRect().bottom-t.getBoundingClientRect().bottom),this.onWindowScroll()}onSectionSelect(i){this.viewportScroller.scrollToAnchor(i.id)}getSectionTitle(i){let e=i.id.split(/[- ]/);return e=e.map(t=>t.charAt(0).toUpperCase()+t.slice(1)),e.join(" ")}onWindowScroll(){if(!this.isBrowser)return;let i=50,e=0,t=-1/0;for(let o=0;o<this.sections.length;o++){let r=this.sections[o].getBoundingClientRect().bottom-i;r>t&&r<=0&&(e=o,t=r)}this.currentViewedSection=this.sections[e]}static \u0275fac=function(e){return new(e||n)(l(u),l(V),l(_))};static \u0275cmp=C({type:n,selectors:[["scroll-spy"]],hostBindings:function(e,t){e&1&&a("scroll",function(){return t.onWindowScroll()},v)},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click","ngClass"]],template:function(e,t){e&1&&d(0,A,2,1,"div",0),e&2&&c("ngIf",!!t.windowReference&&t.windowReference.innerWidth>1600)},dependencies:[E,I,B,b],styles:["[_nghost-%COMP%]{float:left;left:0;position:fixed;margin-left:20px;z-index:9}p[_ngcontent-%COMP%]{border-left:1px solid lightgrey;margin:0;cursor:pointer;padding:10px}.bold[_ngcontent-%COMP%]{border-left:3px solid white;color:#fff;font-weight:700;translate:-1px}"]})};export{O as a};
