import{a as P,b as A}from"./chunk-U6DPD2OU.js";import{Ca as p,Ga as h,La as u,Ma as d,_b as I,ab as m,ac as x,fb as l,ga as f,gb as s,jb as w,lb as c,oa as n,pa as a,qb as v,rb as b,sb as g,ub as y,vb as _,xb as C}from"./chunk-NEKH66XV.js";var k=["placeholder"],O=(()=>{class r{constructor(t,e){this.platformId=t,this.httpClient=e,this.videoId="",this.API_KEY="AIzaSyAgB_ANPJ3PENDu2MGFWRycAkoFfnT1Q3U",this.YOUTUBE_API_URL=`https://www.googleapis.com/youtube/v3/videos?part=snippet&key=${this.API_KEY}&`,this.imageSizesToYoutubeSuffixArray=[{width:120,suffix:"default"},{width:320,suffix:"mqdefault"},{width:480,suffix:"hqdefault"},{width:640,suffix:"sddefault"},{width:1280,suffix:"maxresdefault"}],this.afterViewHasRan=!1,this.isBrowser=!1,this.title="",this.isBrowser=x(this.platformId)}ngAfterContentInit(){this.afterViewHasRan=!0,this.isBrowser&&this.httpClient.get(`${this.YOUTUBE_API_URL}&id=${this.videoId}`,{responseType:"json"}).subscribe(t=>{let e=t;this.title=e.items[0]?.snippet.localized.title})}getThumbnailSize(){if(!this.afterViewHasRan)return"hqdefault";for(let t of this.imageSizesToYoutubeSuffixArray)if(!(this.placeholder.nativeElement.offsetWidth>t.width))return t.suffix;return"hqdefault"}onYoutubeClick(){let t=this.placeholder.nativeElement;if(t==null)return;let e=document.createElement("iframe");e.setAttribute("src","https://www.youtube-nocookie.com/embed/"+this.videoId+"?autoplay=1"),e.setAttribute("frameborder","0"),e.setAttribute("allow","autoplay; accelerometer; clipboard-write; encrypted-media; picture-in-picture; web-share"),e.setAttribute("allowfullscreen","1"),e.style.width="100%",e.style.aspectRatio="16 / 9",t.replaceWith(e)}static{this.\u0275fac=function(e){return new(e||r)(d(p),d(P))}}static{this.\u0275cmp=f({type:r,selectors:[["youtube-placeholder"]],viewQuery:function(e,i){if(e&1&&v(k,7),e&2){let o;b(o=g())&&(i.placeholder=o.first)}},inputs:{videoId:"videoId"},standalone:!0,features:[C],decls:6,vars:2,consts:[["placeholder",""],["id","placeholder"],["alt","YouTube Video","loading","lazy",3,"click","src"],[1,"play-button",3,"click"]],template:function(e,i){if(e&1){let o=w();l(0,"div",1,0)(2,"img",2),c("click",function(){return n(o),a(i.onYoutubeClick())}),s(),l(3,"div",3),c("click",function(){return n(o),a(i.onYoutubeClick())}),s(),l(4,"p"),y(5),s()()}e&2&&(u(2),m("src","https://i.ytimg.com/vi/"+i.videoId+"/"+i.getThumbnailSize()+".jpg",h),u(3),_(i.title))},dependencies:[I,A],styles:[`[_nghost-%COMP%]{cursor:pointer;display:block;position:relative;width:100%}img[_ngcontent-%COMP%]{aspect-ratio:16/9;object-fit:cover;width:100%}.play-button[_ngcontent-%COMP%]{background:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='68' height='48' viewBox='0 0 68 48'><path fill='%23f00' d='M66.52 7.18C66.52 3.21 63.31 0 59.34 0H8.66C4.69 0 1.48 3.21 1.48 7.18v33.64C1.48 44.79 4.69 48 8.66 48h50.68c3.97 0 7.18-3.21 7.18-7.18V7.18z'/><path d='M45 24L27 14v20z' fill='%23fff'/></svg>") no-repeat center;position:absolute;height:48px;left:50%;transform:translate(-50%,-50%);top:50%;width:68px}p[_ngcontent-%COMP%]{font-weight:700;left:16px;max-width:calc(100% - 36px);overflow:hidden;position:absolute;text-overflow:ellipsis;top:0%;white-space:nowrap}`]})}}return r})();export{O as a};
