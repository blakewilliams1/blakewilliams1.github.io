import{c as U}from"./chunk-CRMOBPHT.js";import"./chunk-XA3RFWMC.js";import{a as T}from"./chunk-YTWTWWLN.js";import{k as C,m as d}from"./chunk-H4LMR65P.js";import{Gb as p,Oa as s,Ub as R,Va as n,Za as l,kb as c,lb as A,mb as _,q as a}from"./chunk-I2TCTK3J.js";var E={actionType:"TELEGRAM_ACCOUNT",arModelName:"trex",genericFileName:"test_image.png",paypalRequestAmountUSD:10,redirectUrl:"example.com",trackerType:"HANDS"};function L(o,t){o&1&&(A(0,"p"),p(1,"Specified file for download not found"),_())}var m=class o{constructor(t,e){this.router=t;this.httpClient=e;R()?this.executeConfigSettings(this.localQrConfig):e.get(this.CONFIG_FILE_URL).pipe(a(i=>atob(i.content)),a(i=>JSON.parse(i))).subscribe(i=>{this.executeConfigSettings(i)})}showFileNotFoundMessage=!1;showEmergencyInfo=!1;showArViewer=!1;localQrConfig=E;CONFIG_FILE_URL="https://api.github.com/repos/blakewilliams1/blakewilliams1.github.io/contents/src/app/qr/qr_config.json";VCARD_FILE_URL="https://raw.githubusercontent.com/blakewilliams1/blakewilliams1.github.io/main/src/app/qr/vcard.vcf";GENERIC_FILE_BASE_URL="https://raw.githubusercontent.com/blakewilliams1/blakewilliams1.github.io/main/src/app/qr/generic_files/";URL_PREFIX="https://";FACEBOOK_URL="https://www.facebook.com/blake.williams.731135";TELEGRAM_URL="https://t.me/sladewolf";WHATSAPP_URL="https://wa.me/17605606898";PAYPAL_URL="https://paypal.me/shadowslade/";CASH_APP_URL="https://cash.app.regrettispaghetti";INSTAGRAM_URL="https://instagram.com/_sladewolf";DISCORD_URL="https://discord.com/users/shadowslade6516";TWITTER_URL="https://twitter.com/Shadow_slade/";BLUESKY_URL="https://bsky.app/profile/sladewolf.bsky.social";VENMO_URL="https://venmo.com/code?user_id=1646046040031232265";redirectionActions=["TELEGRAM_ACCOUNT","WHATSAPP_ACCOUNT","FACEBOOK_ACCOUNT","TWITTER_ACCOUNT","INSTAGRAM_URL","BLUESKY_ACCOUNT","DISCORD_ACCOUNT","PAYPAL_REQUEST","VENMO_ACCOUNT","CASH_APP_ACCOUNT","ABOUT_TATTOO_PAGE","REDIRECTION_URL"];executeConfigSettings(t){this.redirectionActions.includes(t.actionType)?this.handleRedirection(t):t.actionType==="VCF_DOWNLOAD"?this.httpClient.get(this.VCARD_FILE_URL,{responseType:"blob"}).subscribe(e=>{let i=this.VCARD_FILE_URL.substring(this.VCARD_FILE_URL.lastIndexOf("/")+1);this.downloadBlob(e,i)}):t.actionType==="GENERIC_FILE_DOWNLOAD"?t.genericFileName?this.downloadGenericFile(t.genericFileName):this.showFileNotFoundMessage=!0:t.actionType==="EMERGENCY_INFO"&&(this.showEmergencyInfo=!0)}downloadGenericFile(t){this.httpClient.get(this.GENERIC_FILE_BASE_URL+t,{responseType:"blob"}).subscribe(e=>{this.downloadBlob(e,t)},()=>{this.showFileNotFoundMessage=!0})}downloadBlob(t,e){let i=document.createElement("a"),r=URL.createObjectURL(t);i.href=r,i.download=e,i.click(),URL.revokeObjectURL(r)}handleRedirection(t){let e;switch(t.actionType){case"TELEGRAM_ACCOUNT":e=this.TELEGRAM_URL;break;case"WHATSAPP_ACCOUNT":e=this.WHATSAPP_URL;break;case"FACEBOOK_ACCOUNT":e=this.FACEBOOK_URL;break;case"BLUESKY_ACCOUNT":e=this.BLUESKY_URL;break;case"TWITTER_ACCOUNT":e=this.TWITTER_URL;break;case"INSTAGRAM_ACCOUNT":e=this.INSTAGRAM_URL;break;case"DISCORD_ACCOUNT":e=this.DISCORD_URL;break;case"VENMO_ACCOUNT":e=this.VENMO_URL;break;case"CASH_APP_ACCOUNT":e=this.CASH_APP_URL;break;case"PAYPAL_REQUEST":e=`${this.PAYPAL_URL}${t.paypalRequestAmountUSD}`;break;case"ABOUT_TATTOO_PAGE":this.router.navigate(["qr/about"]);break;case"REDIRECTION_URL":e=t.redirectUrl.startsWith(this.URL_PREFIX)?t.redirectUrl:this.URL_PREFIX+t.redirectUrl;break;default:break}e&&window&&(window.location.href=e)}static \u0275fac=function(e){return new(e||o)(s(U),s(T))};static \u0275cmp=n({type:o,selectors:[["qr-landing-page"]],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(e,i){e&1&&l(0,L,2,0,"p",0),e&2&&c("ngIf",i.showFileNotFoundMessage)},dependencies:[d,C],encapsulation:2})};export{m as QRLandingPage};
