import{Ia as f,La as c,Y as r,ha as n,ia as a,kb as l,wa as u}from"./chunk-ZKMZVIOQ.js";var m=(()=>{class e{constructor(i){this.element=i,this.imgurId="",this.isLandscape=!1,this.imgurUrlPattern="https://imgur.com/",this.imageSizesToImgurSuffixArray=[{width:320,suffix:"m"},{width:640,suffix:"l"},{width:1024,suffix:"h"}],this.lastCalculatedSuffix=void 0,this.lastCalculatedWidth=0,this.afterViewInitFinished=!1}ngAfterViewInit(){this.calculateSrcAttribute(),this.afterViewInitFinished=!0}onResize(i){this.afterViewInitFinished&&this.calculateSrcAttribute()}calculateSrcAttribute(){let i=this.element.nativeElement.width;if(this.isLandscape&&(i=i*16/9),i<this.lastCalculatedWidth)return;let t=this.chooseSuffix(i);if(this.lastCalculatedSuffix!=null&&t==this.lastCalculatedSuffix)return;this.lastCalculatedSuffix=t,this.lastCalculatedWidth=i;let s=`${this.imgurUrlPattern}${this.imgurId}${t}.jpg`;this.element.nativeElement.setAttribute("src",s)}chooseSuffix(i){for(let t of this.imageSizesToImgurSuffixArray)if(!(i>t.width))return t.suffix;return""}static{this.\u0275fac=function(t){return new(t||e)(c(u))}}static{this.\u0275dir=a({type:e,selectors:[["","imgurId",""]],hostBindings:function(t,s){t&1&&l("resize",function(d){return s.onResize(d)},!1,f)},inputs:{imgurId:"imgurId",isLandscape:"isLandscape"}})}}return e})();var x=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275mod=n({type:e})}static{this.\u0275inj=r({})}}return e})();export{m as a,x as b};
