import{Ja as a,Ma as u,ia as r,lb as f,wa as n}from"./chunk-HRFDIH2O.js";var d=(()=>{class e{constructor(i){this.element=i,this.imgurId="",this.isLandscape=!1,this.imgurUrlPattern="https://imgur.com/",this.imageSizesToImgurSuffixArray=[{width:320,suffix:"m"},{width:640,suffix:"l"},{width:1024,suffix:"h"}],this.lastCalculatedSuffix=void 0,this.lastCalculatedWidth=0,this.afterViewInitFinished=!1}ngAfterViewInit(){this.calculateSrcAttribute(),this.afterViewInitFinished=!0}onResize(i){this.afterViewInitFinished&&this.calculateSrcAttribute()}calculateSrcAttribute(){let i=this.element.nativeElement.width;if(this.isLandscape&&(i=i*16/9),i<this.lastCalculatedWidth)return;let t=this.chooseSuffix(i);if(this.lastCalculatedSuffix!=null&&t==this.lastCalculatedSuffix)return;this.lastCalculatedSuffix=t,this.lastCalculatedWidth=i;let s=`${this.imgurUrlPattern}${this.imgurId}${t}.jpg`;this.element.nativeElement.setAttribute("src",s)}chooseSuffix(i){for(let t of this.imageSizesToImgurSuffixArray)if(!(i>t.width))return t.suffix;return""}static{this.\u0275fac=function(t){return new(t||e)(u(n))}}static{this.\u0275dir=r({type:e,selectors:[["","imgurId",""]],hostBindings:function(t,s){t&1&&f("resize",function(l){return s.onResize(l)},!1,a)},inputs:{imgurId:"imgurId",isLandscape:"isLandscape"},standalone:!0})}}return e})();export{d as a};
