import{m as v,q as w}from"./chunk-JOYVGXEL.js";import{Fa as f,Fb as m,Gb as b,Ia as s,Na as l,Ua as p,Vb as g,jb as h,kb as o,lb as n,qb as r,ua as u,za as d}from"./chunk-6DXKY6MC.js";var _=class c{constructor(e,i,t){this.self=e;this.platformId=i;this.cdr=t;this.isBrowser=w(this.platformId)}videoId="";API_KEY="AIzaSyAgB_ANPJ3PENDu2MGFWRycAkoFfnT1Q3U";YOUTUBE_API_URL=`https://www.googleapis.com/youtube/v3/videos?part=snippet&key=${this.API_KEY}&`;imageSizesToYoutubeSuffixArray=[{width:120,suffix:"default"},{width:320,suffix:"mqdefault"},{width:480,suffix:"hqdefault"},{width:640,suffix:"sddefault"},{width:1280,suffix:"maxresdefault"}];afterViewHasRan=!1;isBrowser=!1;title="";ngAfterContentInit(){this.afterViewHasRan=!0,this.isBrowser&&fetch(`${this.YOUTUBE_API_URL}&id=${this.videoId}`).then(e=>e.json()).then(e=>{let i=e;this.title=i.items[0]?.snippet.localized.title,this.cdr.detectChanges()})}getThumbnailSize(){if(!this.afterViewHasRan)return"hqdefault";for(let e of this.imageSizesToYoutubeSuffixArray)if(!(this.self.nativeElement.offsetWidth>e.width))return e.suffix;return"hqdefault"}onYoutubeClick(){if(!this.self)return;let e=document.createElement("iframe");e.setAttribute("src","https://www.youtube-nocookie.com/embed/"+this.videoId+"?autoplay=1"),e.setAttribute("frameborder","0"),e.setAttribute("allow","autoplay; accelerometer; clipboard-write; encrypted-media; picture-in-picture; web-share"),e.setAttribute("allowfullscreen","1"),e.style.width="100%",e.style.aspectRatio="16 / 9",this.self.nativeElement.replaceWith(e)}static \u0275fac=function(i){return new(i||c)(l(u),l(d),l(g))};static \u0275cmp=p({type:c,selectors:[["youtube-placeholder"]],inputs:{videoId:"videoId"},decls:6,vars:2,consts:[["alt","YouTube Video","loading","lazy",3,"click","src"],[1,"play-button",3,"click"],[1,"title-shadow-background",3,"click"],[3,"click"]],template:function(i,t){i&1&&(o(0,"div")(1,"img",0),r("click",function(){return t.onYoutubeClick()}),n(),o(2,"div",1),r("click",function(){return t.onYoutubeClick()}),n(),o(3,"div",2),r("click",function(){return t.onYoutubeClick()}),n(),o(4,"p",3),r("click",function(){return t.onYoutubeClick()}),m(5),n()()),i&2&&(s(),h("src","https://i.ytimg.com/vi/"+t.videoId+"/"+t.getThumbnailSize()+".jpg",f),s(4),b(t.title))},dependencies:[v],styles:[`[_nghost-%COMP%]{cursor:pointer;display:block;position:relative;width:100%}img[_ngcontent-%COMP%]{aspect-ratio:16/9;object-fit:cover;width:100%}.play-button[_ngcontent-%COMP%]{background:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='68' height='48' viewBox='0 0 68 48'><path fill='%23f00' d='M66.52 7.18C66.52 3.21 63.31 0 59.34 0H8.66C4.69 0 1.48 3.21 1.48 7.18v33.64C1.48 44.79 4.69 48 8.66 48h50.68c3.97 0 7.18-3.21 7.18-7.18V7.18z'/><path d='M45 24L27 14v20z' fill='%23fff'/></svg>") no-repeat center;position:absolute;height:48px;left:50%;transform:translate(-50%,-50%);top:50%;width:68px}.title-shadow-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:3em;background:linear-gradient(to bottom,#000000b3,#0000);pointer-events:none}p[_ngcontent-%COMP%]{color:#fff;font-weight:700;left:16px;max-width:calc(100% - 36px);overflow:hidden;position:absolute;text-overflow:ellipsis;font-size:larger;top:0%;white-space:nowrap;z-index:2}`]})};export{_ as a};
